<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>오늘의 할일</h1>
    <input id="data" onkeyup="enterData(event)"" />

    <ul id="container"></ul>
  </body>

  <script>
    
    let array1 = [
      "공부하기",
      "운동하기",
      "잠자기",
      "숨쉬기",
      "enter말고 end를 눌러야함",
    ];

    function setLiTag() {
      const containerUl = document.getElementById("container");

      while (containerUl.hasChildNodes()) {
        containerUl.removeChild(containerUl.lastChild);
      }

      array1.forEach((value) => {
        containerUl.insertAdjacentHTML(
          `afterbegin`,
          `<li>
                        <span>${value}</span>
                        <span style="color:blue; cursor:no-drop" onclick="deleteItem('${value}')"> O</span>

                    </li>`
        );
      });
    }

    function addItem(itemName) {
      array1.push(itemName);

      setLiTag();
    }

    function deleteItem(itemName) {
      const idx = array1.indexOf(itemName);
      array1.splice(idx, 1);
      setLiTag();
    }
    function enterData(event) {
      if (event.keyCode === 35) {
        const dataInput = document.getElementById("data");
        if (
          dataInput.value != null &&
          dataInput.value != "" &&
          !array1.includes(dataInput.value)
        ) {
          addItem(dataInput.value);
          dataInput.value = "";
        } else {
          alert(`이미 있습니다.`);
        }
      }
    }
    setLiTag();
  </script>
</html>
